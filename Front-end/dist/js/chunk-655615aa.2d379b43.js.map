{"version":3,"sources":["webpack:///./src/views/bank/tokenTransfer.vue?599f","webpack:///src/views/bank/tokenTransfer.vue","webpack:///./src/views/bank/tokenTransfer.vue?a1bb","webpack:///./src/views/bank/tokenTransfer.vue?e9b3","webpack:///./src/views/bank/tokenTransfer.vue?c64f"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","directives","name","rawName","value","activeIndex","expression","scopedSlots","_u","key","fn","staticStyle","_v","attrs","on","$event","isShowRecord","proxy","_l","item","index","operateRClick","marketTokenArr","slice","currentPage","pagesize","scope","_s","_f","Date","row","creationTime","expireTime","parseInt","mortgageAmount","buyDeposit","length","handleSizeChange","handleCurrentChange","isShowPublish","sellToken","tokenId","includeValue","model","orderForm","callback","$$v","$set","changeToken","subOrder","isShowBuy","buyToken","subBuy","staticRenderFns","data","navList","methods","val","sellDeposit","token","param","console","to","then","catch","type","message","tableData","release","nameObj","publish","amount","from","id","bid","_types","getData","sellPrice","created","watch","account","computed","mapGetters","bankTokenArr","$store","state","rainbowBank","records","forEach","arr","title","infoArr","detailArr","withdrawa","address","tokenid","transferMarket","component"],"mappings":"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","file":"js/chunk-655615aa.2d379b43.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tokenTransfer\"},[_c('RainbowPanel',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.activeIndex==0),expression:\"activeIndex==0\"}],scopedSlots:_vm._u([{key:\"name\",fn:function(){return [_c('div',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"space-between\"}},[_c('span',{staticStyle:{\"font-size\":\"18px\"}},[_vm._v(\" MY RBT-deposit \"),_c('span',{staticClass:\"erc-info\"},[_vm._v(\"ERC721\")])]),_c('el-button',{staticClass:\"button-view\",attrs:{\"size\":\"mini\"},on:{\"click\":function($event){_vm.isShowRecord = true}}},[_vm._v(\" Expired \")])],1)]},proxy:true},{key:\"content\",fn:function(){return _vm._l((_vm.bankTokenArr),function(item){return _c('div',{key:item.index},[_c('TableItem',{attrs:{\"tableData\":item,\"operateRName\":\"withdraw money\"},on:{\"operateRClick\":_vm.operateRClick}})],1)})},proxy:true}])}),_c('RainbowPanel',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.activeIndex==1),expression:\"activeIndex==1\"}],scopedSlots:_vm._u([{key:\"name\",fn:function(){return [_vm._v(\" Token transfer market \")]},proxy:true},{key:\"content\",fn:function(){return [_c('el-table',{attrs:{\"data\":_vm.marketTokenArr.slice((_vm.currentPage-1)*_vm.pagesize,_vm.currentPage*_vm.pagesize)}},[_c('el-table-column',{attrs:{\"label\":\"#\",\"type\":\"index\"}}),_c('el-table-column',{attrs:{\"prop\":\"firstOwnerName\",\"label\":\"Initial adult\"}}),_c('el-table-column',{attrs:{\"label\":\"Generation time\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return _c('div',{},[_vm._v(\" \"+_vm._s(_vm._f(\"formatDate\")(new Date(scope.row.creationTime * 1000)))+\" \")])}}])}),_c('el-table-column',{attrs:{\"label\":\"Expiration time\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return _c('div',{},[_vm._v(\" \"+_vm._s(_vm._f(\"formatDate\")(new Date(scope.row.expireTime * 1000)))+\" \")])}}])}),_c('el-table-column',{attrs:{\"prop\":\"expireTime\",\"label\":\"Days Remaining\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return _c('div',{},[_vm._v(\" \"+_vm._s(parseInt((scope.row.expireTime - scope.row.creationTime) / 86400))+\" \")])}}])}),_c('el-table-column',{attrs:{\"prop\":\"mortgageAmount\",\"label\":\"Number of RBTS included\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return _c('div',{},[_vm._v(\" \"+_vm._s(_vm._f(\"formatNumberTo\")(scope.row.mortgageAmount))+\" \")])}}])}),_c('el-table-column',{attrs:{\"label\":\"operation\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{staticClass:\"button1\",attrs:{\"size\":\"mini\"},on:{\"click\":function($event){return _vm.buyDeposit(scope.row)}}},[_vm._v(\" purchase \")])]}}])})],1),_c('el-pagination',{attrs:{\"current-page\":_vm.currentPage,\"page-sizes\":[5, 10, 20, 40],\"page-size\":_vm.pagesize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.marketTokenArr.length},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})]},proxy:true}])}),_c('el-dialog',{attrs:{\"title\":\"Issue sale token information\",\"visible\":_vm.isShowPublish,\"width\":\"400px\"},on:{\"update:visible\":function($event){_vm.isShowPublish=$event}}},[_c('div',{staticClass:\"order\"},[_c('div',{staticClass:\"r-intro-box\"},[_c('div',[_c('span',[_vm._v(\"number\")]),_c('span',[_vm._v(_vm._s(_vm.sellToken.tokenId))])]),_c('div',[_c('span',[_vm._v(\"Generation date\")]),_c('span',[_vm._v(\" \"+_vm._s(_vm._f(\"formatDate\")(new Date(_vm.sellToken.creationTime * 1000))))])]),_c('div',[_c('span',[_vm._v(\"Expiration time\")]),_c('span',[_vm._v(\" \"+_vm._s(_vm._f(\"formatDate\")(new Date(_vm.sellToken.expireTime * 1000))))])]),_c('div',[_c('span',[_vm._v(\"Days Remaining\")]),_c('span',[_vm._v(_vm._s(parseInt((_vm.sellToken.expireTime - _vm.sellToken.creationTime) / 86400)))])]),_c('div',[_c('span',[_vm._v(\"Number of RBTS included\")]),_c('span',[_vm._v(\" \"+_vm._s(_vm._f(\"formatNumber\")(_vm.sellToken.mortgageAmount)))])]),_c('div',[_c('span',[_vm._v(\"Including RBT value\")]),_c('span',[_vm._v(\" $\"+_vm._s(_vm._f(\"formatNumber\")(_vm.includeValue)))])])]),_c('div',{staticClass:\"price-box\"},[_c('span',[_vm._v(\"Sale amount\")]),_c('div',{staticClass:\"input-box\"},[_c('el-input',{staticClass:\"input2\",attrs:{\"size\":\"mini\"},model:{value:(_vm.orderForm.amount),callback:function ($$v) {_vm.$set(_vm.orderForm, \"amount\", $$v)},expression:\"orderForm.amount\"}}),_c('ChooseToken',{on:{\"changeToken\":_vm.changeToken}})],1)]),_c('div',{staticClass:\"intro\"},[_vm._v(\" After the sale is successful, you will be deducted \"),_c('span',{staticClass:\"r-p-color\"},[_vm._v(\"5%\")]),_vm._v(\"Platform service fee \")]),_c('div',{staticClass:\"operating\"},[_c('el-button',{staticClass:\"button3\",attrs:{\"size\":\"small\"},on:{\"click\":function($event){_vm.isShowPublish=false}}},[_vm._v(\"Cancel\")]),_c('el-button',{staticClass:\"button1\",attrs:{\"size\":\"small \"},on:{\"click\":_vm.subOrder}},[_vm._v(\"Confirm sale\")])],1)])]),_c('el-dialog',{attrs:{\"title\":\"Purchase token confirmation\",\"visible\":_vm.isShowBuy,\"width\":\"400px\"},on:{\"update:visible\":function($event){_vm.isShowBuy=$event}}},[_c('div',{staticClass:\"order\"},[_c('div',{staticClass:\"r-intro-box\"},[_c('div',[_c('span',[_vm._v(\"number\")]),_c('span',[_vm._v(_vm._s(_vm.buyToken.tokenId))])]),_c('div',[_c('span',[_vm._v(\"Generation date\")]),_c('span',[_vm._v(\" \"+_vm._s(_vm._f(\"formatDate\")(new Date(_vm.buyToken.creationTime * 1000))))])]),_c('div',[_c('span',[_vm._v(\"Expiration time\")]),_c('span',[_vm._v(\" \"+_vm._s(_vm._f(\"formatDate\")(new Date(_vm.buyToken.expireTime * 1000))))])]),_c('div',[_c('span',[_vm._v(\"Days Remaining\")]),_c('span',[_vm._v(_vm._s(parseInt((_vm.buyToken.expireTime - _vm.buyToken.creationTime) / 86400)))])]),_c('div',[_c('span',[_vm._v(\"Number of RBTS included\")]),_c('span',[_vm._v(\" \"+_vm._s(_vm._f(\"formatNumberTo\")(_vm.buyToken.mortgageAmount)))])]),_c('div',[_c('span',[_vm._v(\"Including RBT value\")]),_c('span',[_vm._v(\" $\"+_vm._s(_vm._f(\"formatNumberTo\")(_vm.buyToken.mortgageAmount)))])])]),_c('div',{staticClass:\"operating\"},[_c('el-button',{staticClass:\"button3\",attrs:{\"size\":\"small\"},on:{\"click\":function($event){_vm.isShowBuy=false}}},[_vm._v(\"Cancel\")]),_c('el-button',{staticClass:\"button1\",attrs:{\"size\":\"small \"},on:{\"click\":_vm.subBuy}},[_vm._v(\"Confirm purchase\")])],1)])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <!--  令牌转让市场-->\n  <div class=\"tokenTransfer\">\n    <!-- <singleNav :nav-list=\"navList\" v-model=\"activeIndex\"></singleNav> -->\n    <RainbowPanel v-show=\"activeIndex==0\">\n      <template v-slot:name>\n     <div style=\"display: flex;justify-content: space-between;\">\n          <span style=\"font-size: 18px;\"> MY RBT-deposit\n            <span class=\"erc-info\">ERC721</span>\n          </span>\n          <el-button @click=\"isShowRecord = true\" class=\"button-view\"\n                     size=\"mini\">\n            Expired\n          </el-button>\n        </div>\n      </template>\n      <template v-slot:content>\n        <div v-for=\"item in bankTokenArr\" :key=\"item.index\">\n          <TableItem  :tableData=\"item\" operateRName=\"withdraw money\" @operateRClick=\"operateRClick\"/>\n        </div>\n      </template>\n      \n    </RainbowPanel>\n    <RainbowPanel v-show=\"activeIndex==1\">\n      <template v-slot:name>\n        Token transfer market\n      </template>\n      <template v-slot:content>\n        <el-table :data=\"marketTokenArr.slice((currentPage-1)*pagesize,currentPage*pagesize)\">\n          <el-table-column\n              label=\"#\"\n              type=\"index\"\n          >\n          </el-table-column>\n          <el-table-column\n              prop=\"firstOwnerName\"\n              label=\"Initial adult\"\n          >\n          </el-table-column>\n          <el-table-column\n              label=\"Generation time\">\n            <div slot-scope=\"scope\">\n              {{ new Date(scope.row.creationTime * 1000) | formatDate }}\n            </div>\n          </el-table-column>\n          <el-table-column\n              label=\"Expiration time\">\n            <div slot-scope=\"scope\">\n              {{ new Date(scope.row.expireTime * 1000) | formatDate }}\n            </div>\n          </el-table-column>\n          <el-table-column\n              prop=\"expireTime\"\n              label=\"Days Remaining\">\n            <div slot-scope=\"scope\">\n              {{ parseInt((scope.row.expireTime - scope.row.creationTime) / 86400) }}\n            </div>\n          </el-table-column>\n          <el-table-column\n              prop=\"mortgageAmount\"\n              label=\"Number of RBTS included\"\n          >\n            <div slot-scope=\"scope\">\n              {{ scope.row.mortgageAmount | formatNumberTo }}\n            </div>\n          </el-table-column>\n          <el-table-column\n              label=\"operation\"\n          >\n            <template slot-scope=\"scope\">\n              <el-button size=\"mini\" class=\"button1\" @click=\"buyDeposit(scope.row)\">\n                purchase\n              </el-button>\n            </template>\n          </el-table-column>\n        </el-table>\n        <el-pagination\n           @size-change=\"handleSizeChange\"\n            @current-change=\"handleCurrentChange\"\n            :current-page=\"currentPage\"\n            :page-sizes=\"[5, 10, 20, 40]\"\n            :page-size=\"pagesize\"\n            layout=\"total, sizes, prev, pager, next, jumper\"\n            :total=\"marketTokenArr.length\">\n        </el-pagination>\n      </template>\n    </RainbowPanel>\n    <el-dialog\n        title=\"Issue sale token information\"\n        :visible.sync=\"isShowPublish\"\n        width=\"400px\"\n    >\n      <div class=\"order\">\n        <div class=\"r-intro-box\">\n          <div>\n            <span>number</span>\n            <span>{{ sellToken.tokenId }}</span>\n          </div>\n          <div>\n            <span>Generation date</span>\n            <span> {{ new Date(sellToken.creationTime * 1000) | formatDate }}</span>\n          </div>\n          <div>\n            <span>Expiration time</span>\n            <span> {{ new Date(sellToken.expireTime * 1000) | formatDate }}</span>\n          </div>\n          <div>\n            <span>Days Remaining</span>\n            <span>{{ parseInt((sellToken.expireTime - sellToken.creationTime) / 86400) }}</span>\n          </div>\n          <div>\n            <span>Number of RBTS included</span>\n            <span> {{ sellToken.mortgageAmount |formatNumber }}</span>\n          </div>\n          <div>\n            <span>Including RBT value</span>\n            <span> ${{ includeValue |formatNumber }}</span>\n          </div>\n        </div>\n        <div class=\"price-box\">\n          <span>Sale amount</span>\n          <div class=\"input-box\">\n            <el-input class=\"input2\" size=\"mini\" v-model=\"orderForm.amount\"></el-input>\n            <ChooseToken @changeToken=\"changeToken\"></ChooseToken>\n          </div>\n        </div>\n\n        <div class=\"intro\">\n          After the sale is successful, you will be deducted <span class=\"r-p-color\">5%</span>Platform service fee\n        </div>\n        <div class=\"operating\">\n          <el-button size=\"small\" class=\"button3\" @click=\"isShowPublish=false\">Cancel</el-button>\n          <el-button size=\"small \" class=\"button1\" @click=\"subOrder\">Confirm sale</el-button>\n        </div>\n      </div>\n    </el-dialog>\n    <el-dialog\n        title=\"Purchase token confirmation\"\n        :visible.sync=\"isShowBuy\"\n        width=\"400px\"\n    >\n      <div class=\"order\">\n        <div class=\"r-intro-box\">\n          <div>\n            <span>number</span>\n            <span>{{ buyToken.tokenId }}</span>\n          </div>\n          <div>\n            <span>Generation date</span>\n            <span> {{ new Date(buyToken.creationTime * 1000) | formatDate }}</span>\n          </div>\n          <div>\n            <span>Expiration time</span>\n            <span> {{ new Date(buyToken.expireTime * 1000) | formatDate }}</span>\n          </div>\n          <div>\n            <span>Days Remaining</span>\n            <span>{{ parseInt((buyToken.expireTime - buyToken.creationTime) / 86400) }}</span>\n          </div>\n          <div>\n            <span>Number of RBTS included</span>\n            <span> {{ buyToken.mortgageAmount |formatNumberTo }}</span>\n          </div>\n          <div>\n            <span>Including RBT value</span>\n            <span> ${{  buyToken.mortgageAmount |formatNumberTo }}</span>\n          </div>\n        </div>\n        <div class=\"operating\">\n          <el-button size=\"small\" class=\"button3\" @click=\"isShowBuy=false\">Cancel</el-button>\n          <el-button size=\"small \" class=\"button1\" @click=\"subBuy\">Confirm purchase</el-button>\n        </div>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport {mapGetters} from \"vuex\";\nimport Moment from 'moment'\n\nexport default {\n  name: \"tokenTransfer\",\n  data() {\n    return {\n      currentPage:1,\n      pagesize:5,\n      orderForm: {},\n      sellToken: {},\n      buyToken: {},\n      isShowPublish: false,\n      isShowBuy:false,\n      activeIndex: 0,\n      navList: [{\n        name: 'My token',\n        index: 0\n      }, {\n        name: 'Transfer market',\n        index: 1\n      }],\n    }\n  },\n  methods: {\n    handleSizeChange(val) {\n      this.pagesize = val;\n    },\n    handleCurrentChange(val) {\n      this.currentPage = val;\n    },\n    sellDeposit(token) {\n      this.sellToken = token\n      this.isShowPublish = true\n    },\n    buyDeposit(token) {\n      this.buyToken = token\n      this.isShowBuy= true\n    },\n    changeToken(param) {\n      console.log(param)\n    },\n    subOrder() {\n       this.$store.dispatch(\"RbtDeposit721/approve\",{\n            to:\"0x4D64eDac49B026aE95765DBD3830C582c693AEe4\",\n            tokenId:this.borrowToken.tokenId\n          }).then(() => {\n            this.publish();\n          }).catch(() => {\n            this.isLoading = false\n            this.$message({\n              type: 'error',\n              message: 'privilege grant failed'\n            })\n          })\n          return\n        },\n     operateRClick(tableData){\n      this.release(tableData.nameObj.data)\n    },\n      publish(){\n        this.isLoading = false\n        this.$store.dispatch(\"transferMarket/publish\", {\n          amount: this.orderForm.amount,\n          tokenId: this.sellToken.tokenId\n        }).then(res => {\n          console.log(res);\n          this.$message.success(\"Published successfully\")\n          this.orderForm = {}\n          this.isShowPublish = false\n          this.getData()\n        }).catch(err => {\n          console.log(err)\n          this.$message.error(\"Publishing failed\" + err)\n          this.orderForm = {}\n        })\n      },\n      subBuy(){ //确认购买{from,id,bid,_types\n        this.$store.dispatch(\"TokenExchangeMarket/bidToken\",{\n          from:\"0x4D64eDac49B026aE95765DBD3830C582c693AEe4\",\n          id:1,\n          bid:1000,\n          _types:\"0x4D64eDac49B026aE95765DBD3830C582c693AEe4\"}).then(res=>{\n          console.log(res)\n          this.$message.success(\"Purchase successful\")\n        }).catch((err)=>{\n          this.$message.error(\"Purchase failed\" + err)\n        })\n      },\n      getData() {\n        if(!this.isConnected)\n        this.$store.dispatch(\"RbtDeposit721/tokenMetadata\",1)\n        this.$store.dispatch(\"TokenExchangeMarket/sellToken\",{\n          from:\"0x4D64eDac49B026aE95765DBD3830C582c693AEe4\",\n          tokenId:1,\n          sellPrice:1000,\n          _types:\"0x4D64eDac49B026aE95765DBD3830C582c693AEe4\"\n        })\n      },\n    },\n    \n  \n  created() {\n       this.getData()\n  },\n  \n  watch: {\n    account() {\n      this.getData()\n    },\n  },\n computed: {\n    ...mapGetters([\n      'isConnected',\n      'account'\n    ]),\n    bankTokenArr() {\n      let arr = []\n      this.$store.state.rainbowBank.records.forEach((item,index)=>{\n        arr.push({\n          index:index+1,\n          nameObj:{ \n            title:\"Token number\",\n            data:item.tokenId\n          }, \n          infoArr:[\n            {\n              title:\"Lock type\",\n              data:item.month + \"Months\"\n            },\n             {\n              title:\"Number of RBTS included\",\n              data:item.amount\n            },\n          ],\n          detailArr:[\n\n            {\n              title:\"Current holder\",\n              data: item.depositor.substr(0,3) + '...'+ item.depositor.substr(item.depositor.length - 3,3)\n            },\n            {\n              title:\"Generation time\",\n              data: Moment(item.created_at).format('YYYY-MM-DD')\n            },\n            {\n              title:\"Expiration time\",\n              data: Moment(item.updated_at).format('YYYY-MM-DD')\n            },\n          ],\n          withdrawa:[\n            {\n              address:item.depositor,\n              tokenid:item.tokenId\n\n            }\n          ]\n        })\n      })\n     return arr\n    },\n\n    marketTokenArr() {\n      let arr = []\n      this.$store.state.transferMarket.marketTokenArr.forEach(item => {\n        for (let i = 0; i < this.$store.state.rbtDeposit.bankTokenArr.length; i++) {\n          let token = this.$store.state.rbtDeposit.bankTokenArr[i]\n          if (token.tokenId == item.tokenId) {\n            arr.push({\n              ...token,\n              ...item,\n            })\n          }\n        }\n      })\n      return arr\n    },\n    includeValue() {\n      return this.sellToken.mortgageAmount\n    },\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.tokenTransfer {\n  .order {\n    .tip {\n      display: flex;\n      justify-content: space-between;\n\n      span:first-child {\n        color: #736DFF;\n      }\n    }\n\n    > div {\n      margin-top: 10px;\n    }\n\n    .price-box {\n      width: 380px;\n      background: #f8f8f8;\n      border: 1px solid #eaeaea;\n      border-radius: 11px;\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      padding: 6px 20px;\n\n      .input-box {\n        width: 260px;\n        height: 30px;\n        align-items: center;\n        padding: 0 10px;\n        background: #ffffff;\n        border: 1px solid #eaeaea;\n        border-radius: 6px;\n        display: flex;\n\n        ::v-deep .el-input__inner {\n          padding: 0 0;\n        }\n      }\n    }\n\n    .operating {\n      display: flex;\n      justify-content: space-between;\n\n      .el-button {\n        width: 150px;\n      }\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tokenTransfer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tokenTransfer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./tokenTransfer.vue?vue&type=template&id=4a6949de&scoped=true&\"\nimport script from \"./tokenTransfer.vue?vue&type=script&lang=js&\"\nexport * from \"./tokenTransfer.vue?vue&type=script&lang=js&\"\nimport style0 from \"./tokenTransfer.vue?vue&type=style&index=0&id=4a6949de&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4a6949de\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tokenTransfer.vue?vue&type=style&index=0&id=4a6949de&lang=scss&scoped=true&\""],"sourceRoot":""}